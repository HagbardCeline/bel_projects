<page>
   <meta>
      <startplan>A</startplan>
      <altplan>B</altplan>
   </meta>
   
   <plan>
      <!-- Plan A, normal operation -->
      <meta>
         <starttime>0</starttime>
         <lastjump>idle</lastjump>
      </meta>  
      <chain>
         <!-- Cycle A0, ring, am Ende eigenes "shared" zuruecksetzen  -->
         <meta>
            <rep>-1</rep>
            <period>1000000000</period>
            <branchpoint>yes</branchpoint>
            <condition>
               <source>shared</source>
               <pattern>0x0000000000004713</pattern>
               <mask>0x000000000000ffff</mask>
               <always>yes</always>
            </condition>
            <signal>
               <destination>shared</destination>
               <cpu>0</cpu>
               <value>0x0000000000004712</value>
               <always>yes</always>
            </signal>
         </meta>
        
         <msg>
             <!-- Msg A0A, EVT_START_CYCLE, Mizar -->
            <id>
               <FID>0</FID>
               <GID>4002</GID>
               <EVTNO>32</EVTNO>
               <SID>1</SID>
               <BPID>1</BPID>
            </id>
            <par>0xfeed0132</par>
            <tef>000</tef>
            <offs>001000000</offs>
         </msg>

         <msg>
             <!-- Msg A0B, EVT_PREP_INJ -->
            <id>
               <FID>0</FID>
               <GID>4002</GID>
               <EVTNO>35</EVTNO>
               <SID>1</SID>
               <BPID>1</BPID>
            </id>
            <par>0xfeed0132</par>
            <tef>000</tef>
            <offs>005000000</offs>
         </msg>

         <msg>
             <!-- Msg A0C, EVT_MB_LOAD -->
            <id>
               <FID>0</FID>
               <GID>4002</GID>
               <EVTNO>39</EVTNO>
               <SID>1</SID>
               <BPID>1</BPID>
            </id>
            <par>0xfeed0132</par>
            <tef>000</tef>
            <offs>010000000</offs>
         </msg>

         <msg>
             <!-- Msg A0D, EVT_READY_TO_SIS (EXCEPTION: Alkor, linac) -->
            <id>
               <FID>0</FID>
               <GID>4001</GID>
               <EVTNO>30</EVTNO>
               <SID>1</SID>
               <BPID>2</BPID>
            </id>
            <par>0xfeed0132</par>
            <tef>000</tef>
            <offs>053000000</offs>
         </msg>

         <msg>
             <!-- Msg A0E, EVT_MB_TRIGGER -->
            <id>
               <FID>0</FID>
               <GID>4002</GID>
               <EVTNO>39</EVTNO>
               <SID>1</SID>
               <BPID>1</BPID>
            </id>
            <par>0xfeed0132</par>
            <tef>000</tef>
            <offs>054000000</offs>
         </msg>

         <msg>
             <!-- Msg A0F, EVT_RAMP_START -->
            <id>
               <FID>0</FID>
               <GID>4002</GID>
               <EVTNO>43</EVTNO>
               <SID>1</SID>
               <BPID>2</BPID>
            </id>
            <par>0xfeed0132</par>
            <tef>000</tef>
            <offs>70000000</offs>
         </msg>

         <msg>
             <!-- Msg A0G, EVT_FLATTOP -->
            <id>
               <FID>0</FID>
               <GID>4002</GID>
               <EVTNO>45</EVTNO>
               <SID>1</SID>
               <BPID>2</BPID>
            </id>
            <par>0xfeed0132</par>
            <tef>000</tef>
            <offs>170000000</offs>
         </msg>

         <msg>
             <!-- Msg A0H, EVT_EXTR_BUMP -->
            <id>
               <FID>0</FID>
               <GID>4002</GID>
               <EVTNO>57</EVTNO>
               <SID>1</SID>
               <BPID>3</BPID>
            </id>
            <par>0xfeed0132</par>
            <tef>000</tef>
            <offs>800000000</offs>
         </msg>

         <msg>
             <!-- Msg A0I, EVT_KICK_START_1 -->
            <id>
               <FID>0</FID>
               <GID>4002</GID>
               <EVTNO>49</EVTNO>
               <SID>1</SID>
               <BPID>3</BPID>
            </id>
            <par>0xfeed0132</par>
            <tef>000</tef>
            <offs>820000000</offs>
         </msg>

         <msg>
             <!-- Msg A0J, EVT_EXTR_END -->
            <id>
               <FID>0</FID>
               <GID>4002</GID>
               <EVTNO>51</EVTNO>
               <SID>1</SID>
               <BPID>3</BPID>
            </id>
            <par>0xfeed0132</par>
            <tef>000</tef>
            <offs>840000000</offs>
         </msg>

         <msg>
             <!-- Msg A0K, EVT_FLATTOP_END -->
            <id>
               <FID>0</FID>
               <GID>4002</GID>
               <EVTNO>52</EVTNO>
               <SID>1</SID>
               <BPID>4</BPID>
            </id>
            <par>0xfeed0132</par>
            <tef>000</tef>
            <offs>900000000</offs>
         </msg>
      </chain>
      
   </plan>

   <plan>
      <meta>
         <starttime>999999</starttime>
         <lastjump>idle</lastjump>
      </meta> 
      <!-- Plan B, abort and chill -->  
      <chain>
         <!-- Cycle B0 -->
         <meta>
            <rep>0</rep>
            <period>100000</period>
            <branchpoint>yes</branchpoint>
         </meta>
        
         <msg>
             <!-- Msg B0A -->
            <id>
               <FID>0</FID>
               <GID>4095</GID>
               <EVTNO>4095</EVTNO>
               <SID>0</SID>
               <BPID>0</BPID>
            </id>
            <par>0xdead0561</par>
            <tef>000</tef>
            <offs>1000</offs>
         </msg>
      </chain>
   </plan>

</page>
